<nav class="bg-blue-900 text-white px-6 py-4">
    <div class="container mx-auto flex justify-between items-center">
        <a href="/" class="text-2xl font-bold tracking-wide">Football Shop</a>

        <ul class="hidden md:flex space-x-6 items-center">
            <li><a href="/" class="hover:text-blue-300">Home</a></li>
            <li><a href="?category=shoes" class="hover:text-blue-300">Shoes</a></li>
            <li><a href="?category=jersey" class="hover:text-blue-300">Jersey</a></li>
            <li><a href="?category=ball" class="hover:text-blue-300">Ball</a></li>
            <li><a href="?category=accessories" class="hover:text-blue-300">Accessories</a></li>
            <li><a href="?category=apparel" class="hover:text-blue-300">Apparel</a></li>
        </ul>

        {% if user.is_authenticated %}
        <div class="hidden md:flex items-center space-x-4 relative z-50">
            <span class="text-sm pointer-events-none">{{ user.username }}</span>
            <a href="{% url 'main:logout' %}"
                style="pointer-events: auto !important; z-index: 99999 !important; position: relative !important;"
                class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors cursor-pointer">
                Logout
            </a>
        </div>
        {% else %}
        <div class="hidden md:flex items-center space-x-4">
            <a href="{% url 'main:login' %}" class="hover:text-blue-300">Login</a>
            <a href="{% url 'main:register' %}" class="hover:text-blue-300">Register</a>
        </div>
        {% endif %}

        <button id="menu-btn" class="block md:hidden text-2xl focus:outline-none z-20">
            â˜°
        </button>
    </div>

    <div id="menu" class="hidden md:hidden mt-4 bg-blue-800 p-4 space-y-2 rounded-md">
        <a href="/" class="block hover:text-blue-300 py-2">Home</a>
        <a href="?category=shoes" class="block hover:text-blue-300 py-2">Shoes</a>
        <a href="?category=jersey" class="block hover:text-blue-300 py-2">Jersey</a>
        <a href="?category=ball" class="block hover:text-blue-300 py-2">Ball</a>
        <a href="?category=accessories" class="block hover:text-blue-300 py-2">Accessories</a>
        <a href="?category=apparel" class="block hover:text-blue-300 py-2">Apparel</a>

        {% if user.is_authenticated %}
        <div class="mt-4 border-t border-blue-700 pt-4">
            <span class="block text-sm mb-2">{{ user.username }}</span>
            <a href="{% url 'main:logout' %}"
                class="block px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-center">
                Logout
            </a>
        </div>
        {% else %}
        <div class="mt-4 space-y-2 border-t border-blue-700 pt-4">
            <a href="{% url 'main:login' %}" class="block hover:text-blue-300 py-2">Login</a>
            <a href="{% url 'main:register' %}" class="block hover:text-blue-300 py-2">Register</a>
        </div>
        {% endif %}
    </div>
</nav>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const btn = document.getElementById("menu-btn");
        const menu = document.getElementById("menu");

        if (btn && menu) {
            btn.addEventListener("click", (e) => {
                e.stopPropagation();
                menu.classList.toggle("hidden");
            });

            // Close menu saat klik di luar
            document.addEventListener("click", (e) => {
                if (!btn.contains(e.target) && !menu.contains(e.target)) {
                    menu.classList.add("hidden");
                }
            });
        }
    });
</script>